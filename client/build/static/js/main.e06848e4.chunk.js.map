{"version":3,"sources":["components/Chat/Chat.js","components/Join/Join.js","components/InfoBar/InfoBar.js","components/Input.js/Input.js","components/Messages/Message/Message.js","components/Messages/Messages.js","app.js","index.js","assets/icons/onlineIcon.png","assets/icons/closeIcon.png"],"names":["socket","Join","useState","name","setName","room","setRoom","className","type","placeholder","onChange","event","target","value","trim","onClick","preventDefault","to","InfoBar","props","src","onlineIcon","alt","closeIcon","Input","message","setMessage","onKeyPress","key","sendMessage","Message","isCurrentUser","user","toLowerCase","text","Messages","messages","map","index","Chat","location","setMessages","END_POINT","process","console","log","useEffect","query","parse","search","io","emit","on","off","App","path","exact","component","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.e06848e4.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport query from \"query-string\";\r\nimport InfoBar from \"../InfoBar/InfoBar\";\r\n\r\nimport \"./Chat.css\";\r\nimport Input from \"../Input.js/Input\";\r\nimport Messages from \"../Messages/Messages\";\r\n\r\n//Global Variable for storing the current socket information\r\nlet socket;\r\n\r\nconst Chat = ({ location }) => {\r\n  const [name, setName] = useState(\"\");\r\n  const [room, setRoom] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [messages, setMessages] = useState([]);\r\n  //The api address\r\n  const END_POINT = process.env.REACT_APP_SERVER_URL;\r\n  console.log(process.env.REACT_APP_SERVER_URL);\r\n\r\n  //When a user joins the Room\r\n  useEffect(() => {\r\n    const { name, room } = query.parse(location.search);\r\n    socket = io(END_POINT);\r\n    setName(name);\r\n    setRoom(room);\r\n\r\n    //Emits an event with a request to join a Room\r\n    socket.emit(\"join\", { name, room }, () => {});\r\n\r\n    //Cleanup fn when a user exits the room\r\n    return () => {\r\n      socket.on(\"disconnect\");\r\n      socket.off();\r\n    };\r\n  }, [END_POINT, location.search]);\r\n\r\n  //To add any new incoming messages to the Screen\r\n  useEffect(() => {\r\n    socket.on(\"message\", (message) => {\r\n      setMessages([...messages, message]);\r\n    });\r\n  }, [messages]);\r\n\r\n  //method to send a message to the room\r\n  const sendMessage = (event) => {\r\n    event.preventDefault();\r\n    if (message) {\r\n      socket.emit(\"sendMessage\", message, () => setMessage(\"\"));\r\n    }\r\n  };\r\n\r\n  console.log(message, messages);\r\n\r\n  return (\r\n    <div className=\"chat-container\">\r\n      <InfoBar name={name} />\r\n      <Messages messages={messages} name={name} />\r\n      <Input\r\n        message={message}\r\n        setMessage={setMessage}\r\n        sendMessage={sendMessage}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"./Join.css\";\r\n\r\nconst Join = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [room, setRoom] = useState(\"\");\r\n\r\n  return (\r\n    <div className=\"join-wrapper\">\r\n      <h1>Join a Room</h1>\r\n      <div className=\"join-form\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Your Name\"\r\n          onChange={(event) => {\r\n            setName(event.target.value.trim());\r\n          }}\r\n          className=\"join-form__info\"\r\n        ></input>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Room Id\"\r\n          onChange={(event) => {\r\n            setRoom(event.target.value.trim());\r\n          }}\r\n          className=\"join-form__info\"\r\n        ></input>\r\n        <Link\r\n          className=\"join-btn\"\r\n          onClick={(event) => {\r\n            if (room === \"\" || name === \"\") {\r\n              event.preventDefault();\r\n            }\r\n          }}\r\n          to={`/chat?name=${name}&room=${room}`}\r\n        >\r\n          <button className=\"join-btn-btn\">Enter Room</button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Join;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport onlineIcon from \"../../assets/icons/onlineIcon.png\";\r\nimport closeIcon from \"../../assets/icons/closeIcon.png\";\r\n\r\nimport \"./InfoBar.css\";\r\n\r\nconst InfoBar = (props) => {\r\n  return (\r\n    <div className=\"infobar-container\">\r\n      <div className=\"infobar-container-left\">\r\n        <img src={onlineIcon} alt=\"online\" className=\"online\" />\r\n        <h3 className=\"infobar-name\">{props.name}</h3>\r\n      </div>\r\n      <div className=\"infobar-container-right\">\r\n        <Link to=\"/\">\r\n          <img src={closeIcon} alt=\"close\" className=\"close\" />\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InfoBar;\r\n","import React from \"react\";\r\n\r\nimport \"./Input.css\";\r\n\r\nconst Input = (props) => {\r\n  return (\r\n    <div className=\"input-container\">\r\n      <input\r\n        className=\"message-box\"\r\n        value={props.message}\r\n        onChange={(event) => props.setMessage(event.target.value)}\r\n        onKeyPress={(event) =>\r\n          event.key === \"Enter\" ? props.sendMessage(event) : null\r\n        }\r\n      />\r\n      <button\r\n        className=\"chat-btn\"\r\n        onClick={(event) => props.sendMessage(event)}\r\n      >\r\n        Send\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","import React from \"react\";\r\n\r\nimport \"./Message.css\";\r\n\r\nconst Message = (props) => {\r\n  let isCurrentUser = false;\r\n\r\n  if (props.message.user.trim() === props.user.trim().toLowerCase()) {\r\n    isCurrentUser = true;\r\n  }\r\n\r\n  if (props.message.user.trim() === \"admin\") {\r\n    return (\r\n      <div className=\"admin-message-container\">\r\n        <p className=\"admin-message\">{props.message.text}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return isCurrentUser ? (\r\n    <div className=\"message-box-container current\">\r\n      <p className=\"user-name\">{props.user}</p>\r\n      <div className=\"message-container\">{props.message.text}</div>\r\n    </div>\r\n  ) : (\r\n    <div className=\"message-box-container others\">\r\n      <div className=\"message-container\">{props.message.text}</div>\r\n      <p className=\"user-name\">{props.message.user}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\nimport ScrollToBottom from \"react-scroll-to-bottom\";\r\n\r\nimport \"./Messages.css\";\r\nimport Message from \"./Message/Message\";\r\n\r\nconst Messages = (props) => {\r\n  return (\r\n    <ScrollToBottom className=\"messages-container\">\r\n      {props.messages.map((message, index) => (\r\n        <Message key={index} message={message} user={props.name} />\r\n      ))}\r\n    </ScrollToBottom>\r\n  );\r\n};\r\n\r\nexport default Messages;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\n\r\nimport Join from \"./components/Join/Join\";\r\nimport Chat from \"./components/Chat/Chat\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <Router>\r\n      <Route path=\"/\" exact component={Join} />\r\n      <Route path=\"/chat\" component={Chat} />\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport \"./index.css\";\r\n\r\nimport App from \"./app\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\""],"sourceRoot":""}